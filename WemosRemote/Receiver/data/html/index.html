<!DOCTYPE html>
<html>
<head>
    <title>Wemos WIFI reote controll</title>
    <link rel="stylesheet" href="bootstrap.css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="kushlavr.js"></script>
</head>
<body>
    <div class="container mb-4">
        <div class="row">
            <div class="col-2"></div>

            <div class="col-8">

                <h1>RC - car Light & Gearbox Controller</h1>
                <div class="card" style="width: 100%;">
                    <img id="svg2" class="card-img-top" src="pcb.jpg" />
                    <div class="card-body">
                        <h5 class="card-title">Inputs</h5>
                        <p class="card-text">
                            <table>
                                <tr><td> X-1:                  </td><td> Ch1 - Stearing                       </td></tr>
                                <tr><td> Y-2:    	           </td><td> CH2 - Speed/Direction                </td></tr>
                                <tr><td> 3:                    </td><td> CH3 - Light                          </td></tr>
                                <tr><td> 4:      	           </td><td> CH4 - Gearbox                        </td></tr>
                                <tr><td> 5:	                   </td><td> CH5 - Reserved                       </td></tr>
                                <tr><td> 6:	                   </td><td> CH6 - Reserved                       </td></tr>
                            </table>

                        </p>

                        <h5 class="card-title">Outputs</h5>
                        <p class="card-text">
                            <table>
                                <tr><td>+: </td><td>+4V2 OUT </td></tr>
                                <tr><td>S: </td><td>Stop light </td></tr>
                                <tr><td>B: </td><td>Back light </td></tr>
                                <tr><td>L: </td><td>Left Turn light </td></tr>
                                <tr><td>R: </td><td>Right Turn Light </td></tr>
                                <tr><td>F: </td><td>Fog light </td></tr>
                                <tr><td>H: </td><td>High Light </td></tr>
                                <tr><td>h: </td><td>Head Light </td></tr>
                                <tr><td>+: </td><td>+4V2 OUT </td></tr>
                                <tr><td>P: </td><td>Parking light </td></tr>
                            </table>

                        </p>

                        <h5 class="card-title">Extends</h5>
                        <p class="card-text">
                            <table>
                                <tr><td>On/Off:</td><td>Power button connector </td></tr>
                                <tr><td>+4V2:</td><td>+4V2 OUT </td></tr>
                                <tr><td>GND:</td><td>Ground out </td></tr>
                                <tr><td>SDA:</td><td>I2B bus Serial Data </td></tr>
                                <tr><td>SCL:</td><td>I2C Clock Out </td></tr>
                            </table>

                        </p>

                    </div>
                </div>

                <h1>Config</h1>
                <form action="/api/setup" method="post" id="form">
                    <div class="form-group">
                        <label>SSID</label>
                        <input type="text" maxlength="10" name="ssid" class="form-control" required="required" />
                    </div>
                    <div class="form-group">
                        <label>password</label>
                        <input type="text" maxlength="10" name="password" class="form-control" required="required" />
                    </div>

                    <h2>Inputs monitoring</h2>

                    <input type="button" class="btn btn-secondary" value="Monitor" onclick="KVR.Autorefresh()" />

                    <!-- CH1 -->
                    <h2>Ch 1</h2>
                    <div class="form-group">
                        <label>min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch1_min" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>center</label>
                        <div class="input-group">
                            <div type="number" name="ch1_center" class="form-control"></div>
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch1_max" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>current</label>
                        <div class="input-group">
                            <div type="number" name="ch1_val" class="form-control"></div>
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>


                    <!-- CH2 -->
                    <h2>Ch 2</h2>
                    <div class="form-group">
                        <label>min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch2_min" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>center</label>
                        <div class="input-group">
                            <div type="number" name="ch2_center" class="form-control"></div>
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch2_max" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>current</label>
                        <div class="input-group">
                            <div type="number" name="ch2_val" class="form-control"></div>
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <!-- CH3 -->
                    <h2>Ch 3</h2>
                    <div class="form-group">
                        <label>min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch3_min" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch3_max" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>current</label>
                        <div class="input-group">
                            <div type="number" name="ch3_val" class="form-control"></div>
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <!-- CH4 -->
                    <h2>Ch 4</h2>
                    <div class="form-group">
                        <label>min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch4_min" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="ch4_max" class="form-control" step="1" min="0" max="3000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>current</label>
                        <div class="input-group">
                            <div type="number" name="ch4_val" class="form-control"></div>
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>ms</sup>..3000<sup>ms</sup></span>
                            </div>
                        </div>
                    </div>

                    <h2>Light settings</h2>
                    <div class="form-group">
                        <label>Port address</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="port_addr" class="form-control" step="1" min="32" max="63" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">32..63</span>
                            </div>
                        </div>
                    </div>

                    <div>Type of port extender IC address pin configuration.</div>
                    <div class="row">
                        <div class="col-6">
                            <p>32 - 0x20 (PCF8574 pin A->000)</p>
                            <p>33 - 0x21 (PCF8574 pin A->001)</p>
                            <p>34 - 0x22 (PCF8574 pin A->010)</p>
                            <p>35 - 0x23 (PCF8574 pin A->011)</p>
                            <p>36 - 0x24 (PCF8574 pin A->100)</p>
                            <p>37 - 0x25 (PCF8574 pin A->101)</p>
                            <p>38 - 0x26 (PCF8574 pin A->110)</p>
                            <p>39 - 0x27 (PCF8574 pin A->111)</p>
                        </div>
                        <div class="col-6">
                            <p>56 - 0x38 (PCF8574A* pin A->000)</p>
                            <p>57 - 0x39 (PCF8574A* pin A->001)</p>
                            <p>58 - 0x3A (PCF8574A* pin A->010)</p>
                            <p>59 - 0x3B (PCF8574A* pin A->011)</p>
                            <p>60 - 0x3C (PCF8574A* pin A->100)</p>
                            <p>61 - 0x3D (PCF8574A* pin A->101)</p>
                            <p>62 - 0x3E (PCF8574A* pin A->110)</p>
                            <p>63 - 0x3F (PCF8574A* pin A->111)</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Stop light duration</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="stop_light_duration" class="form-control" step="10" min="500" max="5000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">500..5000</span>
                                <span class="input-group-text">milis</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Back light timeout</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="back_light_timeout" class="form-control" step="10" min="0" max="1000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0..1000</span>
                                <span class="input-group-text">milis</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Reverce limit</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="reverce_limit" class="form-control" step="1" min="0" max="100" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0..100</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Turn light limit</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="turn_light_limit" class="form-control" step="1" min="0" max="100" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0..100</span>
                            </div>
                        </div>
                    </div>

                    <h2>Gearbox settings</h2>

                    <h3>Neutral</h3>
                    <div class="form-group">
                        <label>servo position</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="gear0" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>


                    <h3>Gear 1</h3>
                    <div class="form-group">
                        <label>servo position</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="gear1" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <h3>Gear 2</h3>
                    <div class="form-group">
                        <label>servo position</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="gear2" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>


                    <input type="submit" class="btn btn-primary" value="Save" />

                </form>
            </div>
            <div class="col-2"></div>
        </div>
    </div>
    <div class="jumbotron">

    </div>
    <script>
        $(document).ready(function () {
            console.log("ready!");
            KVR.load();
        });
    </script>
</body>
</html>