<!DOCTYPE html>
<html>
<head>
    <title>Wemos WIFI reote controll</title>
    <link rel="stylesheet" href="bootstrap.css" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="kushlavr.js"></script>
    <style>
        h1, h2, h3 {
            border-bottom: 4px solid greenyellow;
        }
    </style>
</head>
<body>

    <div class="container mb-4">
        <div class="row">
            <div class="col-12">
                <svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0,0,814.25195,171.49606" id="svg2621">
                    <defs id="defs2623" />
                    <g transform="translate(-4.80134,-690.06084)" id="layer1">
                        <g transform="translate(-135.55329,663.55395)" id="g2629">
                            <path d="M 203.65248,44.239294 L 200.68373,44.739294 L 196.71498,45.989294 L 194.49623,47.426794 L 192.99623,48.489294 L 190.27748,51.208044 L 186.77748,55.926794 L 185.30873,59.395544 L 184.27748,63.083044 L 160.96498,154.23929 L 159.49623,159.92679 L 158.96498,161.64554 L 158.71498,163.11429 L 158.24623,165.11429 L 158.24623,166.89554 L 157.99623,168.36429 L 158.24623,170.61429 L 158.46498,172.58304 L 159.49623,174.83304 L 160.71498,176.55179 L 161.99623,178.02054 L 163.93373,179.05179 L 166.18373,179.80179 L 168.65248,180.02054 L 170.90248,180.27054 L 269.43373,180.27054 L 272.68373,180.27054 L 273.68373,180.02054 L 273.90248,179.80179 L 274.40248,177.77054 L 277.43373,166.89554 L 278.15248,163.39554 L 280.15248,155.92679 L 282.87123,145.27054 L 283.37123,143.80179 L 283.58998,142.52054 L 283.37123,142.27054 L 282.87123,142.08304 L 235.21498,142.08304 L 234.96498,141.80179 L 234.96498,141.30179 L 235.46498,139.33304 L 236.65248,134.86429 L 237.43373,131.89554 L 240.90248,117.45804 L 242.90248,110.23929 L 246.12123,97.833044 L 248.83998,87.458044 L 251.55873,77.239294 L 252.05873,76.520544 L 252.58998,76.270544 L 285.83998,76.270544 L 286.33998,76.051794 L 286.55873,75.520544 L 288.80873,66.614294 L 291.05873,58.426794 L 292.55873,52.426794 L 294.49623,44.489294 L 294.27748,44.239294 L 203.65248,44.239294 z M 324.77748,44.239294 L 323.55873,44.489294 L 323.33998,44.739294 L 322.83998,46.708044 L 322.05873,50.176794 L 293.05873,163.11429 L 292.27748,166.89554 L 292.02748,170.08304 L 292.80873,173.05179 L 294.02748,175.55179 L 296.49623,178.02054 L 298.49623,179.05179 L 301.71498,179.80179 L 303.96498,180.02054 L 305.46498,180.27054 L 389.33998,180.27054 L 393.08998,180.27054 L 393.58998,180.02054 L 393.58998,179.55179 L 395.05873,173.55179 L 395.80873,171.33304 L 397.52748,164.39554 L 403.27748,142.52054 L 403.02748,142.27054 L 402.74623,142.08304 L 370.99623,142.08304 L 369.96498,141.80179 L 369.71498,141.55179 L 371.96498,133.08304 L 393.58998,47.958044 L 394.30873,45.458044 L 394.55873,44.739294 L 394.30873,44.239294 L 324.77748,44.239294 z M 456.40248,44.239294 L 454.62123,44.489294 L 452.90248,44.739294 L 451.15248,45.208044 L 448.93373,45.989294 L 445.15248,48.239294 L 443.46498,49.458044 L 441.49623,51.208044 L 439.71498,53.208044 L 438.74623,55.176794 L 437.49623,57.645544 L 434.77748,66.801794 L 406.96498,172.83304 L 405.21498,180.02054 L 405.46498,180.27054 L 471.30873,180.27054 L 472.52748,180.02054 L 472.71498,179.80179 L 476.02748,168.11429 L 476.99623,163.64554 L 478.96498,156.45804 L 481.93373,144.52054 L 482.43373,143.05179 L 482.68373,142.77054 L 483.15248,142.52054 L 511.99623,142.52054 L 512.24623,142.77054 L 512.49623,143.23929 L 512.49623,179.80179 L 512.68373,180.27054 L 575.99623,180.27054 L 579.77748,180.27054 L 580.24623,180.02054 L 580.49623,179.55179 L 580.49623,44.989294 L 580.24623,44.489294 L 579.77748,44.239294 L 512.68373,44.239294 L 512.49623,44.739294 L 512.49623,110.23929 L 512.24623,110.73929 L 491.12123,110.73929 L 490.83998,110.48929 L 491.12123,109.52054 L 491.65248,108.02054 L 494.12123,99.364294 L 496.37123,89.895544 L 497.58998,85.426794 L 499.05873,80.239294 L 500.27748,74.801794 L 503.02748,64.364294 L 504.30873,60.645544 L 507.05873,50.176794 L 508.46498,44.739294 L 508.21498,44.489294 L 507.74623,44.239294 L 456.40248,44.239294 z M 643.99623,44.239294 L 640.80873,44.739294 L 636.87123,45.739294 L 633.37123,47.676794 L 631.90248,48.708044 L 629.40248,50.989294 L 627.87123,52.926794 L 626.71498,56.176794 L 624.93373,61.864294 L 595.65248,174.11429 L 594.15248,178.73929 L 594.15248,179.80179 L 594.40248,180.02054 L 594.87123,180.27054 L 658.90248,180.27054 L 659.96498,180.02054 L 660.18373,179.80179 L 664.90248,162.42679 L 665.15248,161.14554 L 667.40248,153.20804 L 669.62123,144.30179 L 670.12123,143.05179 L 670.33998,142.77054 L 671.08998,142.52054 L 699.68373,142.52054 L 699.93373,143.05179 L 699.93373,179.55179 L 700.15248,180.02054 L 700.40248,180.27054 L 763.93373,180.27054 L 767.68373,180.27054 L 767.93373,180.02054 L 768.18373,179.55179 L 768.18373,44.989294 L 767.93373,44.489294 L 767.68373,44.239294 L 700.40248,44.239294 L 700.15248,44.489294 L 699.93373,44.989294 L 699.93373,110.73929 L 699.68373,111.05179 L 678.52748,111.05179 L 678.05873,110.73929 L 678.05873,110.48929 L 679.55873,104.55179 L 693.68373,51.708044 L 695.40248,45.208044 L 695.40248,44.489294 L 694.96498,44.239294 L 643.99623,44.239294 z M 826.24623,44.239294 L 824.02748,44.489294 L 822.02748,44.989294 L 819.30873,46.208044 L 815.83998,48.708044 L 813.58998,51.458044 L 811.80873,54.176794 L 810.83998,56.895544 L 810.12123,58.676794 L 807.33998,70.051794 L 806.87123,71.551794 L 800.68373,96.395544 L 799.15248,101.11429 L 798.96498,103.33304 L 798.96498,107.55179 L 799.68373,109.27054 L 801.65248,112.73929 L 803.90248,114.52054 L 805.40248,115.23929 L 807.90248,115.92679 L 850.05873,115.92679 L 850.37123,116.23929 L 850.37123,116.98929 L 849.33998,121.92679 L 846.08998,135.58304 L 844.62123,140.80179 L 844.37123,141.80179 L 843.87123,142.08304 L 790.49623,142.08304 L 789.49623,142.27054 L 788.99623,142.52054 L 788.99623,143.48929 L 788.02748,147.52054 L 782.27748,169.83304 L 779.77748,179.80179 L 779.77748,180.02054 L 780.33998,180.27054 L 887.02748,180.27054 L 890.02748,180.27054 L 891.77748,180.02054 L 894.77748,180.02054 L 900.21498,179.05179 L 903.71498,177.55179 L 906.65248,175.55179 L 908.90248,173.55179 L 910.93373,171.05179 L 912.62123,168.58304 L 914.12123,165.11429 L 915.37123,160.17679 L 918.05873,149.23929 L 921.08998,137.33304 L 921.55873,135.83304 L 925.27748,120.92679 L 925.83998,117.95804 L 926.27748,116.48929 L 926.80873,113.73929 L 926.80873,109.52054 L 926.27748,106.77054 L 925.27748,104.08304 L 923.80873,102.55179 L 922.30873,101.33304 L 919.83998,100.08304 L 916.83998,99.614294 L 873.40248,99.614294 L 872.40248,99.364294 L 872.18373,99.114294 L 872.93373,95.864294 L 875.65248,84.958044 L 878.12123,75.801794 L 878.37123,75.239294 L 928.52748,75.239294 L 929.24623,74.801794 L 929.74623,73.833044 L 930.46498,71.083044 L 932.24623,63.614294 L 934.99623,52.676794 L 936.96498,44.489294 L 936.71498,44.239294 L 826.24623,44.239294 z " style="fill:#d40000;fill-rule:evenodd;stroke:none" id="path9475" />
                        </g>
                    </g>
                </svg>
            </div>
        </div>
        <div class="row">
            <div class="col-2"></div>
            <div class="col-8">
                <h1>Config</h1>
                <form action="/api/setup" method="post" id="form">
                    <div class="form-group">
                        <label>SSID</label>
                        <input type="text" maxlength="10" name="ssid" class="form-control" required="required" />
                    </div>
                    <div class="form-group">
                        <label>password</label>
                        <input type="text" maxlength="10" name="password" class="form-control" required="required" />
                    </div>
                    <div class="form-group">
                        <label>Operation mode</label>
                        <div class="input-group mb-3">
                            <select class="custom-select" name="mode" id="mode">
                                <option value="1" selected>Setup</option>
                                <option value="2">Run</option>
                            </select>
                            <div class="input-group-append">
                                <label class="input-group-text" for="mode">Mode</label>
                            </div>
                        </div>
                        <div>In setup mode some function may be disabled.</div>
                    </div>


                    <h2>Servo</h2>
                    <div class="form-group">
                        <label>Center</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="center" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Left</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="max_left" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Right</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="max_right" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Stearing potenciometer linearity</label>
                        <div class="input-group">
                            <select class="custom-select" name="stearing_linearity" id="stearing_linearity">
                                <option value="0" selected>Linear</option>
                                <option value="1">Y = X^2 / maxX</option>
                            </select>
                            <div class="input-group-append">
                                <span class="input-group-text">Select one</span>
                            </div>
                        </div>
                    </div>

                    <h2>Engine</h2>

                    <div class="form-group">
                        <label>Type of controller</label>
                        <div class="input-group">
                            <select class="custom-select" name="controller_type" id="controller_type">
                                <option value="0" selected>H bridge (pinA = D7, pinB = D6)</option>
                                <option value="1">Speed controller (pin D6)</option>
                                <option value="2">Speed controller (pin D7)</option>
                            </select>
                            <div class="input-group-append">
                                <span class="input-group-text">Select one</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Minimum PWM speed</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="min_speed" class="form-control" step="1" min="0" max="255" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0..255</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Speed potenciometer linearity</label>
                        <div class="input-group">
                            <select class="custom-select" name="potentiometer_linearity" id="potentiometer_linearity">
                                <option value="0" selected>Linear</option>
                                <option value="1">Y = X^2 / maxX</option>
                            </select>
                            <div class="input-group-append">
                                <span class="input-group-text">Select one</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Inertion</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="inertion" class="form-control" step="1" min="0" max="10000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0..10000</span>
                            </div>
                        </div>
                    </div>

                    <h2>Servo 2</h2>
                    <div class="form-group">
                        <label>Min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo2_min" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo2_max" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <h2>Servo 3</h2>
                    <div class="form-group">
                        <label>Min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo3_min" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Center</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo3_center" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo3_max" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <h2>Servo 4</h2>
                    <div class="form-group">
                        <label>Min</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo4_min" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Center</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo4_center" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Max</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="servo4_max" class="form-control" step="1" min="0" max="180" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0<sup>o</sup>..180<sup>o</sup></span>
                            </div>
                        </div>
                    </div>

                    <h2>Light</h2>
                    <div class="form-group">
                        <label>Stop light duration</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="stop_light_duration" class="form-control" step="10" min="500" max="5000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">500..5000</span>
                                <span class="input-group-text">milis</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Back light timeout</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="back_light_timeout" class="form-control" step="10" min="0" max="1000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">0..1000</span>
                                <span class="input-group-text">milis</span>
                            </div>
                        </div>
                    </div>

                    <h2>Beeper</h2>
                    <div class="form-group">
                        <label>Frequency</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="beep_freq" class="form-control" step="1" min="100" max="5000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">100..5000</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Duration</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="beep_duration" class="form-control" step="1" min="10" max="1000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">10..1000</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Interval</label>
                        <div class="input-group">
                            <input type="number" maxlength="5" name="beep_interval" class="form-control" step="1" min="10" max="1000" required="required" />
                            <div class="input-group-append">
                                <span class="input-group-text">10..1000</span>
                            </div>
                        </div>
                    </div>

                    <input type="submit" class="btn btn-primary" value="Save" />
                </form>
            </div>
            <div class="col-2"></div>
        </div>
    </div>
    <div class="jumbotron" style="background-color:greenyellow">

    </div>
    <script>
        $(document).ready(function () {
            console.log("ready!");
            KVR.load();
        });
    </script>
</body>
</html>